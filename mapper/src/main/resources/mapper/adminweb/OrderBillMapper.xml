<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.ligg.mapper.adminweb.OrderBillMapper">

    <!-- 订单账单分页查询 -->
    <select id="selectOrderBillPage" resultType="com.ligg.common.entity.adminweb.OrderBillEntity">
        select ob.id,
        ob.order_id,
        ob.merchant_id,
        ob.divide_into,
        ob.remaining_amount,
        ob.commission_amount,
        ob.start_time,
        ob.order_money
        from order_bill ob
        <where>
            <if test="query.purchaseTime != null">
                date_format(ob.start_time,'%Y-%m') = #{query.purchaseTime}
            </if>
        </where>
        order by ob.start_time desc
    </select>

    <!-- 订单详情查询 -->
    <select id="selectDetailList" resultType="com.ligg.common.entity.adminweb.OrderBillEntity">
        select *
        from order_bill
        <where>
            <if test="purchaseTime != null">
                date_format(start_time,'%Y-%m') = #{purchaseTime}
            </if>
        </where>
        order by start_time desc
    </select>
</mapper>